<ion-view view-title="Eventos">
  <!--<ion-header-bar align-title="left" class="bar-positive">
    <div class="buttons">
      <button class="button button-clear icon ion-search" ng-click="data.search = !data.search"></button>
    </div>
    <h1 class="title" ng-show="!data.search">evento</h1>
    <input type="text" ng-show="data.search">
    <div class="buttons">
      <button class="button button-clear icon ion-plus-round" ng-click="fn.modal.newEvent()">
      </button>
    </div>
  </ion-header-bar>-->


  <ion-nav-buttons side="right">
    <button class="button button-clear icon ion-plus-round" ng-click="fn.modal.newEvent()">
    </button>
  </ion-nav-buttons>
  <ion-content scroll="false">

    <div class="">
      <label class="item item-input">
        <i class="icon ion-search placeholder-icon"></i>
        <input type="text" placeholder="Search" ng-model="data.search.name">
      </label>
    </div>
    <ion-content scroll="true" class="margin-event">
      <ion-list><!--Ingresar clase animate para animacion hay q solventar un bug-->
        <ion-item class="item-icon-right" ng-repeat="event in events | filter: data.search" type="item-text-wrap" ng-init="fn.randomColor(event)">
          <div class="row">
            <div class="col-25">
              <p class="init-letter" ng-style="{background:event.color}" ng-init="fn.initLetter(event)">{{event.initialLetter}}</p>
            </div>

            <div class="col-75" >
              <h2>{{event.name}}</h2>
              <p>{{event.dayEvent | dateInit}}</p>
              <i class="icon ion-chevron-right icon-accessory"></i>
            </div>
          </div>
          <ion-option-button class="button-assertive" ng-click="remove(event)">
            Delete
          </ion-option-button>
        </ion-item>
      </ion-list>
    </ion-content>
    <script id="AM.modal.html" type="text/ng-template">
      <ion-modal-view>
        <ion-header-bar>
          <div class="buttons">
            <button class="button icon ion-close-round" ng-click="fn.modal.close()"></button>
          </div>
          <h1 class="title">{{event.action}} Evento</h1>
          <div class="buttons">
            <button class="button icon ion-checkmark-round" ng-click="fn.modal.saveEvent()"></button>
          </div>
        </ion-header-bar>
        <ion-content scroll="false">
          <div class="list list-modal">
            <label class="item item-input item-stacked-label">
              <span class="input-label">Nombre del Evento</span>
              <input type="text" placeholder="Evento ..." ng-model="data.event.name">
            </label>
            <label class="item item-input item-stacked-label">
              <span class="input-label">Dia del Evento</span>
              <input type="text" placeholder="Dia ..." ng-model="data.event.dayEventString">
              <!--<input type="text" placeholder="Dia ..." ng-model="data.event.dayEventString" ng-click="fn.modal.openDatePicker()">-->
            </label>
            <div class="item item-input-inset">
              <label class="item-input-wrapper">
                <input type="text" placeholder="Codigo Qr" ng-model="data.event.codeQr">
              </label>
              <button class="button button-small icon ion-ios-keypad" ng-click="fn.modal.readQr()">
              </button>
            </div>
          </div>
        </ion-content>
      </ion-modal-view>
    </script>
  </ion-content>

</ion-view>
